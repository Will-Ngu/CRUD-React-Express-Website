{"ast":null,"code":"var _jsxFileName = \"/Users/wingu/Documents/job-related/refridge/client/src/components/New.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, Fragment } from 'react';\nimport DatePicker from 'react-date-picker';\nimport { useHistory } from \"react-router-dom\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Input, Select, MenuItem, Button } from '@material-ui/core';\nimport api from '../apiCalls';\nimport '../App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Form() {\n  _s();\n\n  const history = useHistory();\n\n  const routeChange = () => {\n    let path = `/`;\n    history.push(path);\n  };\n\n  const [job, setJob] = useState('');\n  const [selectedDate, setSelectedDate] = useState(new Date());\n\n  const handleDateChange = date => {\n    setSelectedDate(date);\n  };\n\n  const [status, setStatus] = useState('New');\n  const [title, setTitle] = useState('');\n  const [supervisor, setSupervisor] = useState('');\n  const [analyst, setAnalyst] = useState('');\n  const [organizaton, setOrganization] = useState('');\n  const [location, setLocation] = useState('');\n  const [department, setDepartment] = useState('');\n  const [review, setReview] = useState('');\n  const [ppe, setPpe] = useState('');\n  const [training, setTraining] = useState('');\n  const [steps, setSteps] = useState([{\n    step: \"\",\n    sequence: \"\",\n    potentialHazard: \"\",\n    controls: \"\"\n  }]);\n\n  const handleInputChange = (text, setFunc) => {\n    setFunc(text);\n  };\n\n  const handleStepsChange = (index, event) => {\n    const values = [...steps];\n    values[index][event.target.name] = event.target.value;\n    setSteps(values);\n  };\n\n  const useStyles = makeStyles(theme => ({\n    root: {\n      // '& > *': {\n      //   margin: theme.spacing(1),\n      // },\n      '& .MuiInput-root': {\n        margin: theme.spacing(1),\n        width: '25ch',\n        marginLeft: 'auto',\n        marginRight: 'auto',\n        paddingBottom: 0,\n        marginTop: 0,\n        fontWeight: 500\n      }\n    }\n  }));\n\n  function handleAddClick() {\n    const values = [...steps];\n    values.push({\n      value: null\n    });\n    setSteps(values);\n  }\n\n  function handleRemoveClick(i) {\n    const values = [...steps];\n    values.splice(i, 1);\n    setSteps(values);\n  } // function handleDateChange(date) {setSelectedDate(date)};\n\n\n  const handleSubmit = async event => {\n    if (event) {\n      event.preventDefault();\n    } //Gather Data for apiCalls\n\n\n    const data = {\n      job,\n      \"selectedDate\": selectedDate.toString(),\n      status,\n      title,\n      supervisor,\n      analyst,\n      organizaton,\n      location,\n      department,\n      review,\n      ppe,\n      training\n    };\n    var step;\n\n    for (step in steps) {\n      steps[step]['job'] = job;\n\n      if ('value' in steps[step]) {\n        delete steps[step]['value'];\n      }\n    }\n\n    const apiData = {\n      'data': data,\n      'stepData': steps\n    };\n    await api.postJha(apiData);\n    routeChange();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      background: 'white',\n      'display': 'flex',\n      height: '100%',\n      width: '100%',\n      'flexDirection': 'column',\n      'alignItems': 'center',\n      'justifyContent': \"space-between\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(Input, {\n      style: {\n        width: '50%'\n      },\n      placeholder: \"Job Title\",\n      value: job // onChange={e=>setName(e.target.value)} \n      ,\n      onChange: e => handleInputChange(e.target.value, setJob)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: \"10px\",\n        width: '50%',\n        justifyContent: 'space-between',\n        'display': 'flex',\n        'flexDirection': 'row'\n      },\n      children: [/*#__PURE__*/_jsxDEV(DatePicker, {\n        onChange: handleDateChange,\n        value: selectedDate\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Select, {\n        value: status,\n        onChange: e => handleInputChange(e.target.value, setStatus),\n        children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n          value: \"New\",\n          children: \"New\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n          value: \"Revised\",\n          children: \"Revised\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: \"10px\",\n        width: '50%',\n        justifyContent: 'space-between',\n        'display': 'flex',\n        'flexDirection': 'row'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Input, {\n        placeholder: \"Title of Person performing Job\",\n        value: title // onChange={e=>setName(e.target.value)} \n        ,\n        onChange: e => handleInputChange(e.target.value, setTitle)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        placeholder: \"Supervisor\",\n        value: supervisor // onChange={e=>setName(e.target.value)} \n        ,\n        onChange: e => handleInputChange(e.target.value, setSupervisor)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: \"10px\",\n        width: '50%',\n        justifyContent: 'space-between',\n        'display': 'flex',\n        'flexDirection': 'row'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Input, {\n        placeholder: \"Analyst\",\n        value: analyst // onChange={e=>setName(e.target.value)} \n        ,\n        onChange: e => handleInputChange(e.target.value, setAnalyst)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        placeholder: \"Organization\",\n        value: organizaton // onChange={e=>setName(e.target.value)} \n        ,\n        onChange: e => handleInputChange(e.target.value, setOrganization)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: \"10px\",\n        width: '50%',\n        justifyContent: 'space-between',\n        'display': 'flex',\n        'flexDirection': 'row'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Input, {\n        placeholder: \"Location\",\n        value: location // onChange={e=>setName(e.target.value)} \n        ,\n        onChange: e => handleInputChange(e.target.value, setLocation)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        placeholder: \"Department\",\n        value: department // onChange={e=>setName(e.target.value)} \n        ,\n        onChange: e => handleInputChange(e.target.value, setDepartment)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: \"10px\",\n        width: '50%',\n        justifyContent: 'space-between',\n        'display': 'flex',\n        'flexDirection': 'row'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Input, {\n        placeholder: \"Reviewed by\",\n        value: review // onChange={e=>setName(e.target.value)} \n        ,\n        onChange: e => handleInputChange(e.target.value, setReview)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        placeholder: \"REQUIRED PPE:\",\n        value: ppe // onChange={e=>setName(e.target.value)} \n        ,\n        onChange: e => handleInputChange(e.target.value, setPpe)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Input, {\n      style: {\n        width: '50%'\n      },\n      placeholder: \"Required Training\",\n      value: training // onChange={e=>setName(e.target.value)} \n      ,\n      onChange: e => handleInputChange(e.target.value, setTraining)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-row\",\n      style: {\n        marginTop: \"10px\"\n      },\n      children: steps.map((stepInput, index) => /*#__PURE__*/_jsxDEV(Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(Input, {\n            id: \"step\",\n            name: \"step\",\n            placeholder: \"Step #\",\n            value: stepInput.step,\n            onChange: e => handleStepsChange(index, e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            id: \"sequence\",\n            name: \"sequence\",\n            placeholder: \"Sequence of Steps\",\n            value: stepInput.sequence,\n            onChange: e => handleStepsChange(index, e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            id: \"potentialHazard\",\n            name: \"potentialHazard\",\n            placeholder: \"Potential Hazards\",\n            value: stepInput.potentialHazard,\n            onChange: e => handleStepsChange(index, e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            id: \"controls\",\n            name: \"controls\",\n            placeholder: \"Controls\",\n            value: stepInput.controls,\n            onChange: e => handleStepsChange(index, e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-link\",\n            type: \"button\",\n            onClick: () => handleRemoveClick(index),\n            children: \"-\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-link\",\n            type: \"button\",\n            onClick: () => handleAddClick(),\n            children: \"+\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 15\n        }, this)\n      }, `${stepInput}~${index}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: useStyles().root,\n      style: {\n        marginTop: '10px',\n        marginBottom: '10px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"secondary\",\n        onClick: () => {\n          routeChange;\n        },\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        type: \"submit\",\n        color: \"primary\",\n        onClick: handleSubmit,\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Form, \"T6Qu6E8CKAHkptjtpBWDXrGCTf0=\", false, function () {\n  return [useHistory, useStyles];\n});\n\n_c = Form;\nexport default Form;\n\nvar _c;\n\n$RefreshReg$(_c, \"Form\");","map":{"version":3,"sources":["/Users/wingu/Documents/job-related/refridge/client/src/components/New.js"],"names":["React","useState","Fragment","DatePicker","useHistory","makeStyles","Input","Select","MenuItem","Button","api","Form","history","routeChange","path","push","job","setJob","selectedDate","setSelectedDate","Date","handleDateChange","date","status","setStatus","title","setTitle","supervisor","setSupervisor","analyst","setAnalyst","organizaton","setOrganization","location","setLocation","department","setDepartment","review","setReview","ppe","setPpe","training","setTraining","steps","setSteps","step","sequence","potentialHazard","controls","handleInputChange","text","setFunc","handleStepsChange","index","event","values","target","name","value","useStyles","theme","root","margin","spacing","width","marginLeft","marginRight","paddingBottom","marginTop","fontWeight","handleAddClick","handleRemoveClick","i","splice","handleSubmit","preventDefault","data","toString","apiData","postJha","background","height","e","justifyContent","map","stepInput","marginBottom"],"mappings":"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","sourcesContent":["import React, {useState, Fragment } from 'react';\n\nimport DatePicker from 'react-date-picker';\nimport { useHistory } from \"react-router-dom\";\n\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Input, Select, MenuItem, Button } from '@material-ui/core';\nimport api from '../apiCalls';\nimport '../App.css';\n\nfunction Form() {\n\n\n  const history = useHistory();\n  const routeChange = () =>{ \n    let path = `/`; \n    history.push(path);\n  }\n\n  const [job, setJob] = useState('');\n  const [selectedDate, setSelectedDate] = useState(new Date());\n  const handleDateChange = (date) => {\n    setSelectedDate(date);\n  };\n  const [status, setStatus] = useState('New');\n  const [title, setTitle] = useState('');\n  const [supervisor, setSupervisor] = useState('');\n  const [analyst, setAnalyst] = useState('');\n  const [organizaton, setOrganization] = useState('');\n  const [location, setLocation] = useState('');\n  const [department, setDepartment] = useState('');\n  const [review, setReview] = useState('');\n  const [ppe, setPpe] = useState('');\n  const [training, setTraining] = useState('');\n\n  const [steps, setSteps] = useState([{step: \"\", sequence: \"\", potentialHazard: \"\", controls: \"\" }]);\n\n  const handleInputChange = (text, setFunc) => {\n    setFunc(text)\n  }\n\n  const handleStepsChange = (index, event) => {\n    const values = [...steps];\n    values[index][event.target.name] = event.target.value;\n    setSteps(values);\n  };\n  \n\n  const useStyles = makeStyles((theme) => ({\n    root: {\n      // '& > *': {\n      //   margin: theme.spacing(1),\n      // },\n      '& .MuiInput-root': {\n        margin: theme.spacing(1),\n        width: '25ch',\n        marginLeft: 'auto',\n        marginRight: 'auto',            \n        paddingBottom: 0,\n        marginTop: 0,\n        fontWeight: 500\n      },\n    },\n    \n  }));\n  \n\n  function handleAddClick() {\n    const values = [...steps];\n    values.push({ value: null });\n    setSteps(values);\n  }\n\n  function handleRemoveClick(i) {\n    const values = [...steps];\n    values.splice(i, 1);\n    setSteps(values);\n  }\n\n  \n\n  // function handleDateChange(date) {setSelectedDate(date)};\n  const handleSubmit = async (event) => {\n    if (event) {\n      event.preventDefault();\n    }\n    //Gather Data for apiCalls\n    const data = { job, \"selectedDate\":selectedDate.toString(), status, title, supervisor,\n    analyst, organizaton, location, department, review, ppe, training }\n\n    \n\n    var step;\n    for (step in steps) {\n      steps[step]['job'] = job;\n      if ('value' in steps[step]){\n        delete steps[step]['value']; \n      }\n    }\n    const apiData = {'data': data, 'stepData':steps};\n    await api.postJha(apiData);\n    routeChange();\n    \n  }\n  return (\n    <div style={{background: 'white', 'display':'flex', height:'100%', width:'100%','flexDirection':'column', 'alignItems': 'center','justifyContent':\"space-between\"}}>\n        <Input style={{ width:'50%'}}\n          placeholder='Job Title' \n          value={job}\n          // onChange={e=>setName(e.target.value)} \n          onChange = {e=>handleInputChange(e.target.value, setJob)}\n        />\n        <div style={{marginTop:\"10px\", width:'50%',justifyContent: 'space-between','display':'flex', 'flexDirection':'row'}}>\n          <DatePicker\n            onChange={handleDateChange}\n            value={selectedDate}\n          />\n          <Select\n            value={status}\n            onChange={e=>handleInputChange(e.target.value, setStatus)}\n          >\n            <MenuItem value=\"New\">New</MenuItem>\n            <MenuItem value=\"Revised\">Revised</MenuItem>\n          </Select>\n        </div>\n        <div style={{marginTop:\"10px\", width:'50%',justifyContent: 'space-between','display':'flex', 'flexDirection':'row'}}>          \n        <Input \n            placeholder='Title of Person performing Job' \n            value={title}\n            // onChange={e=>setName(e.target.value)} \n            onChange = {e=>handleInputChange(e.target.value, setTitle)}\n          />\n          <Input \n            placeholder='Supervisor' \n            value={supervisor}\n            // onChange={e=>setName(e.target.value)} \n            onChange = {e=>handleInputChange(e.target.value, setSupervisor)}\n          />\n        </div>\n        <div style={{marginTop:\"10px\", width:'50%',justifyContent: 'space-between','display':'flex', 'flexDirection':'row'}}>\n          <Input \n            placeholder='Analyst' \n            value={analyst}\n            // onChange={e=>setName(e.target.value)} \n            onChange = {e=>handleInputChange(e.target.value, setAnalyst)}\n          />\n          <Input \n            placeholder='Organization' \n            value={organizaton}\n            // onChange={e=>setName(e.target.value)} \n            onChange = {e=>handleInputChange(e.target.value, setOrganization)}\n          />\n        </div>\n        <div style={{marginTop:\"10px\", width:'50%',justifyContent: 'space-between','display':'flex', 'flexDirection':'row'}}>\n          <Input\n            placeholder='Location' \n            value={location}\n            // onChange={e=>setName(e.target.value)} \n            onChange = {e=>handleInputChange(e.target.value, setLocation)}\n          />\n          <Input \n            placeholder='Department' \n            value={department}\n            // onChange={e=>setName(e.target.value)} \n            onChange = {e=>handleInputChange(e.target.value, setDepartment)}\n          />\n        </div>\n        <div style={{marginTop:\"10px\", width:'50%',justifyContent: 'space-between','display':'flex', 'flexDirection':'row'}}>\n          <Input \n            placeholder='Reviewed by' \n            value={review}\n            // onChange={e=>setName(e.target.value)} \n            onChange = {e=>handleInputChange(e.target.value, setReview)}\n          />\n            <Input \n            placeholder='REQUIRED PPE:' \n            value={ppe}\n            // onChange={e=>setName(e.target.value)} \n            onChange = {e=>handleInputChange(e.target.value, setPpe)}\n            />\n          </div>\n          <Input  style={{ width:'50%'}}\n          placeholder='Required Training' \n          value={training}\n          // onChange={e=>setName(e.target.value)} \n          onChange = {e=>handleInputChange(e.target.value, setTraining)}\n          />\n      <div className=\"form-row\" style={{marginTop:\"10px\"}}>\n          {steps.map((stepInput, index) => (\n            <Fragment key={`${stepInput}~${index}`}>\n              <div>\n                <Input\n                  id=\"step\"\n                  name=\"step\"\n                  placeholder='Step #' \n                  value={stepInput.step}\n                  onChange = {e=>handleStepsChange(index, e)}\n                  \n                />\n                <Input\n                  id=\"sequence\"\n                  name=\"sequence\"\n                  placeholder='Sequence of Steps' \n                  value={stepInput.sequence}\n                  onChange = {e=>handleStepsChange(index, e)}\n                />\n                <Input\n                  id=\"potentialHazard\"\n                  name=\"potentialHazard\"\n                  placeholder=\"Potential Hazards\"\n                  value={stepInput.potentialHazard}\n                  onChange = {e=>handleStepsChange(index, e)}\n                />\n                <Input\n                  id=\"controls\"\n                  name=\"controls\"\n                  placeholder='Controls'\n                  value={stepInput.controls}\n                  onChange = {e=>handleStepsChange(index, e)}\n                />\n                <button\n                  className=\"btn btn-link\"\n                  type=\"button\"\n                  onClick={() => handleRemoveClick(index)}\n                >\n                  -\n                </button>\n                <button\n                  className=\"btn btn-link\"\n                  type=\"button\"\n                  onClick={() => handleAddClick()}\n                >\n                  +\n                </button>\n              </div>\n            </Fragment>\n          ))}\n        </div>\n      \n      <div className={useStyles().root} style={{marginTop:'10px', marginBottom:'10px'}}>\n        <Button variant=\"contained\" color=\"secondary\" onClick={() => { routeChange }}>\n          Cancel\n        </Button>\n        <Button variant=\"contained\" type=\"submit\" color=\"primary\" onClick={handleSubmit}>\n          Submit\n        </Button>\n      </div>\n          \n        \n    </div>\n  );\n}\n  \nexport default Form"]},"metadata":{},"sourceType":"module"}